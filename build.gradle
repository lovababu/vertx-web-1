plugins {
    id 'java'
    id 'eclipse'
    id 'application'
    id 'com.github.johnrengelman.shadow' version '1.2.4'
    id 'idea'
}

group 'org.avol.vertx'
version '1.0'

idea {
    project {
        languageLevel = '1.8'
    }
}

repositories {
    mavenCentral()
}

sourceCompatibility = 1.8
mainClassName = 'io.vertx.core.Launcher'

dependencies {

    // https://mvnrepository.com/artifact/io.vertx/vertx-core
    compile group: 'io.vertx', name: 'vertx-core', version: '3.3.3'
    compile group: 'io.vertx', name: 'vertx-web', version: '3.3.3'

    testCompile group: 'junit', name: 'junit', version: '4.11'
}

/* used to create the fat jar files. plugin 'com.github.johnrengelman.shadow' must be added */
shadowJar {
    classifier = 'RELEASE'
    manifest {
        attributes 'Main-Verticle': 'org.avol.vertx.web.verticles.WebVerticle'
    }
    mergeServiceFiles {
        include 'META-INF/services/io.vertx.core.spi.VerticleFactory'
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.5'
}
